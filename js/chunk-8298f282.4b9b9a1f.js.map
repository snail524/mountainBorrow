{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.test.js","webpack:///./src/views/OrderView.vue","webpack:///./src/views/OrderView.vue?7191","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["$","global","call","uncurryThis","isCallable","isObject","DELEGATES_TO_EXEC","execCalled","re","exec","apply","this","arguments","test","Error","un$Test","target","proto","forced","str","result","class","style","_createElementVNode","for","scope","_createVNode","_component_Toast","text","$data","ref","_component_ToastFail","_hoisted_3","_hoisted_7","_component_Form","onSubmit","$options","errors","_hoisted_9","_component_Field","id","name","type","placeholder","rules","user","email","$event","_component_ErrorMessage","_hoisted_11","_hoisted_13","tel","_hoisted_15","address","_hoisted_17","rows","message","_hoisted_19","_createElementBlock","_Fragment","_renderList","carts","item","key","backgroundImage","product","imageUrl","alt","_toDisplayString","title","content","aria-label","aria-describedby","value","qty","_ctx","currency","total","_hoisted_28","_hoisted_30","final_total","_hoisted_33","onClick","components","Toast","ToastFail","data","cartsData","orderInfo","methods","isPhone","phoneNumber","isRequired","getCart","$http","get","process","then","res","console","log","catch","rej","createOrder","post","toastComponent","openToast","autoHideToast","response","created","mounted","$refs","toast","toastFailComponent","toastFail","__exports__","render","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","NAME","configurable","error"],"mappings":"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","file":"js/chunk-8298f282.4b9b9a1f.js","sourcesContent":["'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar Error = global.Error;\nvar un$Test = uncurryThis(/./.test);\n\n// `RegExp.prototype.test` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.test\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    var exec = this.exec;\n    if (!isCallable(exec)) return un$Test(this, str);\n    var result = call(exec, this, str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","<template>\n  <div class=\"bg-white sticky-top\">\n    <div class=\"position-fixed d-block d-flex justify-content-end\"\n    style=\"right: 5%; width: 40px\">\n      <Toast :text=\"text\" ref=\"toast\"/>\n      <ToastFail :text=\"text\" ref=\"toastFail\"/>\n  </div>\n      <div class=\"container\">\n      </div>\n    </div>\n    <div class=\"container\">\n      <div class=\"row justify-content-center py-5\">\n         <div class=\"col-md-6\">\n          <div class=\"d-flex justify-content-between\">\n            <h2 class=\"mt-2\">訂單明細</h2>\n          </div>\n          <Form\n            ref=\"form\" v-slot=\"{ errors }\" @submit=\"createOrder\">\n            <div class=\"mb-3\">\n              <label for=\"email\" class=\"text-muted form-label\">信箱</label>\n              <Field\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                class=\"form-control\"\n                :class=\"{ 'is-invalid': errors['email'] }\"\n                placeholder=\"請輸入 Email\"\n                rules=\"email|required\"\n                v-model = \"orderInfo.user.email\"\n              ></Field>\n              <ErrorMessage\n                name=\"email\"\n                class=\"invalid-feedback\"\n              ></ErrorMessage>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"name\" class=\"text-muted form-label\">姓名</label>\n              <Field\n                id=\"name\"\n                name=\"name\"\n                type=\"name\"\n                class=\"form-control\"\n                :class=\"{ 'is-invalid': errors['name'] }\"\n                placeholder=\"請輸入 name\"\n                rules=\"required\"\n                v-model = \"orderInfo.user.name\"\n              ></Field>\n              <ErrorMessage\n                name=\"name\"\n                class=\"invalid-feedback\"\n              ></ErrorMessage>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"phone\" class=\"text-muted form-label\">電話</label>\n              <Field\n                id=\"phone\"\n                name=\"phone\"\n                type=\"phone\"\n                class=\"form-control\"\n                :class=\"{ 'is-invalid': errors['phone'] }\"\n                placeholder=\"請輸入電話\"\n                :rules=\"isPhone\"\n                v-model = \"orderInfo.user.tel\"\n              ></Field>\n              <ErrorMessage\n                name=\"phone\"\n                class=\"invalid-feedback\"\n              ></ErrorMessage>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"address\" class=\"text-muted form-label\">地址</label>\n              <Field\n                id=\"address\"\n                name=\"address\"\n                type=\"text\"\n                class=\"form-control\"\n                :class=\"{ 'is-invalid': errors['address'] }\"\n                placeholder=\"請輸入寄送地址\"\n                rules=\"required\"\n                v-model = \"orderInfo.user.address\"\n              ></Field>\n              <ErrorMessage\n                name=\"address\"\n                class=\"invalid-feedback\"\n              ></ErrorMessage>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"ContactMessage\" class=\"text-muted mb-0\">其他想問的問題</label>\n              <textarea class=\"form-control\" rows=\"3\" id=\"ContactMessage\"\n              v-model=\"orderInfo.message\" placeholder=\"message ... \"></textarea>\n            </div>\n          </Form>\n        </div>\n        <div class=\"col-md-6 bg-white\" style=\"min-height: calc(100vh - 56px - 76px);\">\n          <div class=\"d-flex justify-content-between\">\n            <h2 class=\"mt-2\">購物明細</h2>\n          </div>\n          <div v-for=\"item in cartsData.carts\" class=\"d-flex mt-4 bg-light\" :key=\"item.id\">\n            <div :style=\"{backgroundImage: `url(${item.product.imageUrl})`}\" alt=\"\"\n            style=\"width:120px;height: 120px; background-size: cover;\n            background-position: center center;\"></div>\n            <div class=\"w-100 p-3 position-relative\">\n              <!-- <a href=\"#\" class=\"position-absolute\" style=\"top: 16px; right: 16px;\">\n                <i class=\"fas fa-times\"></i></a> -->\n              <p class=\"mb-0 fw-bold\">{{item.product.title}}</p>\n              <p class=\"mb-1 text-muted\" style=\"font-size: 14px;\">{{item.product.content}}</p>\n              <div class=\"d-flex justify-content-between align-items-center w-100\">\n                <div class=\"input-group w-50 align-items-center\">\n                  <!-- <div class=\"input-group-prepend pe-1\">\n                    <a href=\"#\"> <i class=\"fas fa-minus\"></i></a>\n                  </div> -->\n                  <input type=\"text\" class=\"form-control border-0 text-center my-auto shadow-none\n                  bg-light px-0\" placeholder=\"\" aria-label=\"Example text with button addon\"\n                  aria-describedby=\"button-addon1\" :value=\"item.qty\">\n                  <!-- <div class=\"input-group-append ps-1\">\n                    <a href=\"#\"><i class=\"fas fa-plus\"></i></a>\n                  </div> -->\n                </div>\n                <p class=\"mb-0 ms-auto\">NT${{$filters.currency(item.total) }}</p>\n              </div>\n            </div>\n          </div>\n          <table class=\"table mt-4 text-muted\">\n            <tbody>\n              <tr>\n                <th scope=\"row\" class=\"border-0 px-0 font-weight-normal\">原價</th>\n                <td class=\"text-end border-0 px-0\">NT${{ cartsData.total}}</td>\n              </tr>\n              <tr>\n                <th scope=\"row\" class=\"border-0 px-0 pt-0 font-weight-normal\">折扣</th>\n                <td class=\"text-end border-0 px-0 pt-0\">\n                  NT${{ $filters.currency(cartsData.total - cartsData.final_total)}}</td>\n              </tr>\n            </tbody>\n          </table>\n          <div class=\"d-flex justify-content-between mt-4\">\n            <p class=\"mb-0 h4 fw-bold\">總計</p>\n            <p class=\"mb-0 h4 fw-bold\">NT${{ $filters.currency(cartsData.final_total) }}</p>\n          </div>\n          <div class=\"d-flex justify-content-end\">\n            <button @click=\"createOrder\" class=\"btn btn-dark btn-block mt-4 rounded-0 py-3\">\n          付款</button>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport Toast from '@/components/Toast.vue';\nimport ToastFail from '@/components/ToastFail.vue';\n\nexport default {\n  components: { Toast, ToastFail },\n  data() {\n    return {\n      text: '',\n      cartsData: {},\n      orderInfo:\n      {\n        user: {\n          name: '',\n          email: '',\n        },\n      },\n    };\n  },\n  methods: {\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼';\n    },\n    isRequired(value) {\n      return value ? true : 'This field is required';\n    },\n    getCart() {\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          console.log(res.data.data);\n          this.cartsData = res.data.data;\n        })\n        .catch((rej) => {\n          console.log(rej);\n        });\n    },\n    createOrder() {\n      const data = this.orderInfo;\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`, { data })\n        .then((res) => {\n          console.log(res);\n          this.text = '完成下訂單';\n          this.toastComponent.openToast();\n          this.toastComponent.autoHideToast();\n          this.getCart();\n        })\n        .catch((rej) => {\n          console.log(rej.response);\n        });\n    },\n  },\n  created() {\n    this.getCart();\n  },\n  mounted() {\n    this.toastComponent = this.$refs.toast;\n    this.toastFailComponent = this.$refs.toastFail;\n  },\n};\n\n</script>\n","import { render } from \"./OrderView.vue?vue&type=template&id=2db53eb2\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/liuyiming/Desktop/前端/7. Vue直播班/Week8_final_project/week8/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}