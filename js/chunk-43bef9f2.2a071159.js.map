{"version":3,"sources":["webpack:///./src/views/ProductView.vue","webpack:///./src/views/ProductView.vue?2a77","webpack:///./node_modules/mitt/dist/mitt.mjs","webpack:///./src/utils/emitter.js"],"names":["class","style","_createElementVNode","_hoisted_13","_hoisted_17","_createElementBlock","_createVNode","_component_Toast","text","$data","ref","_component_ToastFail","_hoisted_3","_toDisplayString","title","price","content","_Fragment","_renderList","imagesUrl","image","key","src","type","id","onClick","placeholder","aria-label","aria-describedby","value","href","$options","components","Toast","ToastFail","data","product","cartQty","toastComponent","toastFailComponent","methods","getProduct","url","process","this","$http","get","then","res","console","log","catch","err","dir","addToCart","product_id","qty","post","emitter","emit","openToast","autoHideToast","mounted","$route","params","$refs","toast","toastFail","__exports__","render","all","n","Map","on","t","e","i","push","set","off","splice","indexOf","slice","map","mitt"],"mappings":"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","file":"js/chunk-43bef9f2.2a071159.js","sourcesContent":["<template>\n<div class=\"container\">\n  <div class=\"position-fixed d-block d-flex justify-content-end\"\n    style=\"right: 5%; width: 40px\">\n      <Toast :text=\"text\" ref=\"toast\"/>\n      <ToastFail :text=\"text\" ref=\"toastFail\"/>\n  </div>\n  <div style=\"min-height: 400px; background-image: url(https://images.unsplash.com/photo-1480399129128-2066acb5009e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80);\n  background-position: center center;\">\n  </div>\n  <div class=\"row justify-content-between mt-4 mb-7\">\n    <div class=\"col-md-7\">\n      <h2 class=\"mb-0\">{{ product.title }}</h2>\n      <p class=\"fw-bold\">NT$ {{ product.price }}</p>\n      <p> {{ product.content }}</p>\n      <div class=\"my-4\">\n        <img v-for=\"image in product.imagesUrl\"\n        :key = \"image\" :src=\"image\" class=\"img-fluid mt-4\">\n        <!-- <img src=\"https://images.unsplash.com/photo-1502743780242-f10d2ce370f3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1916&q=80\" alt=\"\" class=\"img-fluid mt-4\">\n        <img src=\"https://images.unsplash.com/photo-1502743780242-f10d2ce370f3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1916&q=80\" alt=\"\" class=\"img-fluid mt-4\">\n        <img src=\"https://images.unsplash.com/photo-1502743780242-f10d2ce370f3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1916&q=80\" alt=\"\" class=\"img-fluid mt-4\"> -->\n      </div>\n    </div>\n    <div class=\"col-md-4\">\n      <div class=\"input-group mb-3 border mt-3\">\n        <div class=\"input-group-prepend\">\n          <button class=\"btn btn-outline-dark rounded-0 border-0 py-3\"\n          type=\"button\" id=\"button-addon1\"  @click=\"cartQty--\">\n            <i class=\"fas fa-minus\"></i>\n          </button>\n        </div>\n        <input type=\"text\" class=\"form-control border-0 text-center my-auto shadow-none\"\n        placeholder=\"\" aria-label=\"Example text with button addon\"\n        aria-describedby=\"button-addon1\" :value=\"cartQty\">\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-dark rounded-0 border-0 py-3\"\n           type=\"button\" id=\"button-addon2\" @click=\"cartQty++\">\n            <i class=\"fas fa-plus\"></i>\n          </button>\n        </div>\n      </div>\n      <a href=\"#\" class=\"btn btn-dark btn-block rounded-0 py-3\"\n      @click.prevent=\"addToCart(cartQty)\">加到購物車</a>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport emitter from '@/utils/emitter';\nimport Toast from '@/components/Toast.vue';\nimport ToastFail from '@/components/ToastFail.vue';\n\nexport default {\n  components: { Toast, ToastFail },\n  data() {\n    return {\n      product: [],\n      id: '',\n      cartQty: 1,\n      text: '',\n      toastComponent: {},\n      toastFailComponent: {},\n    };\n  },\n  methods: {\n    getProduct() {\n      // console.log(this.id);\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.$http.get(url)\n        .then((res) => {\n          console.log(res);\n          this.product = res.data.product;\n          console.log(this.product);\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    addToCart(cartQty) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      const data = {\n        product_id: this.id,\n        qty: cartQty,\n      };\n      this.$http.post(url, { data })\n        .then((res) => {\n          console.log('addtocart', res);\n          emitter.emit('get-cart');\n          this.text = '成功加入購物車';\n          this.toastComponent.openToast();\n          this.toastComponent.autoHideToast();\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n  },\n  mounted() {\n    this.id = this.$route.params.id;\n    this.getProduct();\n    this.toastComponent = this.$refs.toast;\n    this.toastFailComponent = this.$refs.toastFail;\n  },\n};\n</script>\n","import { render } from \"./ProductView.vue?vue&type=template&id=196a7d28\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/liuyiming/Desktop/前端/7. Vue直播班/Week8_final_project/week8/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt';\n\nconst emitter = mitt();\n\nexport default emitter;\n"],"sourceRoot":""}